# Архитектура Friday‑агента для платформы KIT

## Основная задача агента

- Генерировать короткие, информативные и развлекательные комментарии о сделках.
- Автоматически объяснять reasoning сделок простым языком с юмором или иронией.

## Архитектурные компоненты

- **LLM** — бесплатные open‑source модели (Phi‑3‑mini, GPT4All, Ollama), развёрнутые локально.
- **FastAPI/Flask** — API endpoint (`/api/friday`), принимающий запросы и возвращающий ответы.
- **Telegram Bot** — отправка комментариев и алёртов в чат.
- **Dashboard Integration** — отображение комментариев в отдельном виджете платформы KIT.

## Структура взаимодействия

```
[Trading Engine KIT] → (HTTP JSON запрос) → [Friday API /api/friday] → (LLM inference) → (возврат комментария JSON) → [Dashboard / Telegram]
```

## Алгоритм работы Friday API

1. Получение запроса с параметрами сделки и контекста.
2. Генерация prompt‑а из шаблона (`configs/prompts.yaml`) с описанием сделки.
3. Отправка запроса в локальный inference LLM и получение ответа.
4. Возврат сформированного комментария, логирование и отправка обратно в KIT/Telegram.

## Расширяемость

Архитектура предусмотрена таким образом, чтобы можно было легко заменить модель LLM, изменить форматы prompt‑ов или добавить новые каналы (например, голосовые уведомления) без изменения основной логики приложения.